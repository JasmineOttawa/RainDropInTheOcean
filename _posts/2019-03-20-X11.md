---
layout: post
title: Enable X11 forwarding on Linux  
category: Others
tags: [Linux]
---
# on my laptop   
“Tick” the Enable X11 forwarding in PUTTY.  
Launch the “Xming” application from your local machine.  

# as root   
```
touch /root/.Xauthority  
uncomment the X11Forwarding and set to “yes” in /etc/ssh/sshd_config file.  
xauth list $DISPLAY  
HOSTNAME/unix:10  MIT-MAGIC-COOKIE-1  b25654b722770f3465b276a45445ecb7  
echo $DISPLAY  
export DISPLAY= localhost:10.0    
xclock   
```
# as oracle user 
```
touch .Xauthority
xauth list $DISPLAY 
echo $DISPLAY
xauth add localhost.localdomain/unix:10  MIT-MAGIC-COOKIE-1  b25654b722770f3465b276a45445ecb7
export DISPLAY=localhost:10.0
xclock
```
# Q1 - on CentOS, xauth list returns empty 
```
Change #AddressFamily any to AddressFamily inet in /etc/ssh/sshd_config
Restart the sshd.service
re-login 
Run "xauth list $DISPLAY"
```
Root cause: DISPLAY variable was not set even after taking the SSH X11 forwarded connection and ipv6 was disabled in sysctl.conf because of which X11 forwarding channel was only in a loop and not setting the DISPLAY variable.  
Here after taking the X11 forwarding session of RHEL 7 by default it will check for the ipv6 first, then ipv4 but here as ipv6 was only disabled so it did not move forward and remained in loop.  


# Q2 - when login as users other then root
``` 
PuTTY X11 proxy: Unsupported authorisation protocol
Error: Can't open display: localhost:10.0
relogin as the user directly, try xclock, works this time 
```
